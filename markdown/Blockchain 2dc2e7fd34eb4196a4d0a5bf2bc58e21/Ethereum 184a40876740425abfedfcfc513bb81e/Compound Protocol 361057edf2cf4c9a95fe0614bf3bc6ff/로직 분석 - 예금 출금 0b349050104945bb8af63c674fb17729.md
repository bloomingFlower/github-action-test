# ë¡œì§ ë¶„ì„ - ì˜ˆê¸ˆ. ì¶œê¸ˆ

[[Compound series] 2. ì»´íŒŒìš´ë“œ ë¡œì§ ë¶„ì„â€Š-â€Šì˜ˆê¸ˆ, ì¶œê¸ˆ](https://medium.com/decipher-media/compound-series-2-1-%EC%BB%B4%ED%8C%8C%EC%9A%B4%EB%93%9C-%EB%A1%9C%EC%A7%81-%EB%B6%84%EC%84%9D-%EC%98%88%EA%B8%88-%EC%B6%9C%EA%B8%88-c5dfbea2e0a7)

### ìš©ì–´

- ì‚¬ìš©ì: Compound ì—ì„œ ìì‚°ì„ ê³µê¸‰, ì°¨ì…í•˜ëŠ” ëª¨ë“  ì°¸ì—¬ì. ê³µê¸‰ì, ì°¨ì…ì.
- ê³µê¸‰ì: Compound ì—ì„œ ìì‚°ì„ ì˜ˆì¹˜ë§Œ í•œ ì‚¬ìš©ì. ëŒ€ì¶œ ì´ì ìˆ˜ë ¹.
- ì°¨ì…ì: Compound ë¥¼ í†µí•´ ìì‚° ì˜ˆì¹˜ í›„ ë‹¤ë¥¸ ìì‚°ì„ ë¹Œë ¤ ê°€ëŠ” ì‚¬ìš©ì. â€˜ì°¨ì…' ì´ì ì§€ë¶ˆ í•´ì•¼ í•¨.
- ëŒ€ì¶œ ì„œë¹„ìŠ¤: Compound í”„ë¡œí† ì½œ ìì²´.
- ê¸°ì´ˆ ì•”í˜¸í™”í(underlying cryptocurrency): Compoundì—ì„œ cTokenìœ¼ë¡œ ë³€í™˜ë˜ê¸° ì „ ì•”í˜¸í™”í

### cToken

- ìš´ìš© ë¡œì§: ì˜ˆê¸ˆ, ì¶œê¸ˆ, ëŒ€ì¶œ, ìƒí™˜, ì²­ì‚°

CompoundëŠ” ìš´ìš© ë¡œì§ì— ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ìì‚°ì„ cTokenìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ìš´ìš©

ê³¼ë‹´ë³´ ëŒ€ì¶œì„ ì§€ì›í•˜ëŠ” ëª¨ë“  ê¸°ì´ˆ ì•”í˜¸í™”íì— ëŒ€í•œ cToken ì»¨íŠ¸ë™íŠ¸ ë³´ìœ .

ETHì— ëŒ€í•´ì„  cETH ì»¨íŠ¸ë™, DAIì— ëŒ€í•´ì„  cDAI ì»¨íŠ¸ë™ ì¡´ì¬.

ëª¨ë“  ìì‚°ì˜ ì»¨íŠ¸ë™ì€ Compoundì˜ 5ê°€ì§€ ìš´ìš© ë¡œì§ ëª¨ë‘ í¬í•¨.

### Case 1: ê³µê¸‰ìê°€ ETHë¥¼ ì»´íŒŒìš´ë“œì— ì˜ˆì¹˜

> [Mint í•¨ìˆ˜ ì‹¤í–‰]
1. ê³µê¸‰ìì˜ ì›”ë ›ì—ì„œ ETHë¥¼ Compoundì˜ cETH ì»¨íŠ¸ë™ì— ì „ì†¡
2. Compoundê°€ íŠ¹ì • êµí™˜ ë¹„ìœ¨ì„ ì‚¬ìš©. ì „ì†¡í•œ ETHë¥¼ cTokenì¸ cETHë¡œ ë³€í™˜ í›„ ì‚¬ìš©ìì˜ ì›”ë ›ì— ì „ì†¡
> 

### Case 2: ê³µê¸‰ìê°€ ì˜ˆì¹˜í•œ ETHë¥¼ ì»´íŒŒìš´ë“œì—ì„œ ì¶œê¸ˆ

> [Redeem í•¨ìˆ˜ ì‹¤í–‰]
1. ETH ì¶œê¸ˆ ìš”ì²­
2. Compound ê°€ íŠ¹ì • êµí™˜ ë¹„ìœ¨ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ìš”ì²­í•œ ETHë¥¼ ë°›ê¸° ìœ„í•´ ì§€ê¸‰í•´ì•¼ í•  cETHì˜ ê°œìˆ˜ ê³„ì‚°
3. ì‚¬ìš©ìê°€ ê³„ì‚°ëœ cETHë¥¼ Compoundì˜ cETH ì»¨íŠ¸ë™ì— ì „ì†¡
4. Compoundê°€ 1ë²ˆì— ìš”ì²­í•œ ETHë¥¼ ê³µê¸‰ìì˜ ì›”ë ›ì— ì „ì†¡
> 

### Case 3: ì°¨ì…ìê°€ ì˜ˆì¹˜í•œ ETHë¥¼ ë‹´ë³´ë¡œ Compoundì—ì„œ DAIë¥¼ ì°¨ì…

> [Borrow í•¨ìˆ˜ ì‹¤í–‰]
1. ì‚¬ìš©ìê°€ DAI ì°¨ì… ìš”ì²­
2. Compoundê°€ ì‚¬ìš©ìê°€ ìš”ì²­í•œ DAIê°€ í•´ë‹¹ ì‚¬ìš©ìì—ê²Œ ëŒ€ì¶œ ê°€ëŠ¥ì—¬ë¶€ í™•ì¸
3. Compoundê°€ ì‚¬ìš©ìê°€ ìš”ì²­í•œ DAIë¥¼ ì‚¬ìš©ì ì›”ë ›ì— ì „ì†¡
> 

### Case 4: ì°¨ì…ìê°€ ì°¨ì…í•œ DAIë¥¼ Compoundì— ìƒí™˜í•˜ëŠ” ê²½ìš°

> [Repay í•¨ìˆ˜ ì‹¤í–‰]
1. ì°¨ì…ìê°€ DAI ìƒí™© ìš”ì²­
2. Compoundê°€ ì°¨ì…ìì˜ DAI ìƒí™˜ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
3. ì°¨ì…ìê°€ Compoundì˜ cDAI ì»¨íŠ¸ë™ì— ì°¨ì…í•œ DAI ì „ì†¡
> 

## ì˜ˆê¸ˆ[Mint]

![Untitled](%E1%84%85%E1%85%A9%E1%84%8C%E1%85%B5%E1%86%A8%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20-%20%E1%84%8B%E1%85%A8%E1%84%80%E1%85%B3%E1%86%B7%20%E1%84%8E%E1%85%AE%E1%86%AF%E1%84%80%E1%85%B3%E1%86%B7%200b349050104945bb8af63c674fb17729/Untitled.png)

<aside>
ğŸ’¡ ê³µê¸‰ìê°€ ì˜ˆì¹˜í•œ ê¸°ì´ˆ ì•”í˜¸í™”íë¥¼ cTokenìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ê³µê¸‰ì ì›”ë ›ì— ì „ì†¡

</aside>

1. Compound ì‹œì¥ì˜ ëŒ€ì¶œëŸ‰ê³¼ ì´ììœ¨ ê²€ì‚¬

```solidity
function mintInternal(uint mintAmount) internal nonReentrant returns (uint, ..){
	uint error = accrueIntereset();
	if(error != uint(Error.NO_ERROR)) {
		return (fail(Error(error), FailureInfo.MINT_ACCRUE_INTEREST_FAILED),..
	}
	
	return mintFresh(msg.sender, mintAmount);
}
```

- accrueInterest í•¨ìˆ˜: Compound ì‹œì¥ì˜ ì•”í˜¸í™”í ëŒ€ì¶œëŸ‰ê³¼ ì´ììœ¨ ê³„ì‚°. ì¶œê¸ˆ, ëŒ€ì¶œ, ìƒí™˜ì„ ìœ„í•œ í•¨ìˆ˜ì— ëª¨ë‘ ì‹¤í–‰. ì´ì ê³„ì‚°ì´ í•µì‹¬.
1. ê³µê¸‰ìì—ê²Œ ì œê³µí•´ì•¼ í•  cToken ë°œí–‰ ì—¬ë¶€ í™•ì¸ê³¼ COMP í† í° ê³„ì‚°

```solidity
function mintFresh(address minter, uint mintAmount) internal returns (uint...){
	uint allowed = comptroller.mintAllowed(address(this), miner, mintAm..);
	if(allowed != 0) {
		return (faliOpaque(Error.COMPTROLLER_REJECTION, FailureInfo.MINT..);
}
```

minter: ê³µê¸‰ì ì›”ë › ì£¼ì†Œ

mintAmount: ê³µê¸‰ìê°€ ì˜ˆì¹˜í•  ê¸°ì´ˆ ì•”í˜¸í™”íì˜ ê°œìˆ˜

mintAllowed: ê³µê¸‰ìê°€ ì œê³µí•´ì•¼ í•  cTokenì˜ ë°œìƒ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸.
ê³µê¸‰ìì—ê²Œ ì œê³µí•´ì•¼ í•  COMP í† í°ì˜ ê°œìˆ˜ ê³„ì‚°.