# SOOHO.IO 버그바운티

- **Session 01 : Introduction to Web3 and Smart Contract**
    - Session 01의 목표는 **Ethereum과 Solidity에 대해 알고, Hardhat 사용법을 익히는 것**입니다.
    - Ethereum과 Solidity에 대해 잘 알고, Hardhat을 사용할 줄 아시는 분들께는 본 세션이 다소 지루할 수 있습니다.
    - **Javascript / Typescript**을 알고 계셔야 실습과 시연을 정확히 이해하실 수 있습니다. (모르셔도 테스트를 돌려 볼 수 있도록 코드는 제공해 드릴 예정입니다.)
    - **Node.js를 실습환경에 사전에 세팅해오셔야 실습이 가능합니다.**
        - [Node.js와 NPM 설치 (Windows)](https://hello-bryan.tistory.com/95)
        - [Node.js와 NPM 설치 (MacOS)](https://memostack.tistory.com/274)
    - [실습/시연 코드 Github 저장소](https://github.com/astean1001/2022_seminar_tutorial)
        - 실습 내용 : Hardhat으로 ERC20 코드 테스트 해보기 + SimpleSwap 코드 테스트 해보기 ([Hardhat 세팅하기](https://hardhat.org/hardhat-runner/docs/guides/project-setup))
        - [실습 영상 1 (Compile)](https://drive.google.com/file/d/1bwowoUX9Ego8crL61OdMQchDrmqdwdPV/view?usp=sharing), [실습 영상 2 (Test)](https://drive.google.com/file/d/1DSK-kkzF8k_qWt7UGc6XTWD8C4iEnO1y/view?usp=sharing)
    - **사전 참고 자료**
        - [Ethereum이 무엇인가요?](https://academy.binance.com/ko/articles/what-is-ethereum)
        - [Smart Contract란 무엇인가요?](https://brunch.co.kr/@c6086b58f6724c5/8)
        - [Solidity 언어 공식 문서](https://docs.soliditylang.org/en/v0.8.15/)
        - [Solidity by Example](https://solidity-by-example.org/)
        - [Hardhat 공식 문서](https://hardhat.org/docs)
        - [The Complete Hands-On Hardhat Tutorial](https://betterprogramming.pub/the-complete-hands-on-hardhat-tutorial-9e23728fc8a4)
        - [Ethers.js 공식 문서](https://docs.ethers.io/v5/)
        - [Chai 공식 문서](https://www.chaijs.com/)
        - [Damn Vulnerable DeFi](https://github.com/tinchoabbate/damn-vulnerable-defi/tree/master)
- **Session 02 : Common Vulnerabilities and Case Study**
    - Session 02의 목표는 **EVM-호환 Smart Contract 환경에서 발생할 수 있는 취약점들을 이해**하고 실사례 코드로 확인하는 것입니다.
    - **Solidity를 읽고 이해하는데 어려움이 없으셔야** 세션을 원활히 이해하실 수 있습니다.
    - **사전 참고 자료**
        - [Uniswap이 무엇인가요?](https://academy.binance.com/ko/articles/what-is-uniswap-and-how-does-it-work)
        - [Uniswap 코드 분석](https://velog.io/@wrjang96/Uniswap-Core)
        - [Smart Contract Weakness Classification](https://swcregistry.io/)
        - [Security Pitfalls & Best Practices 101](https://secureum.substack.com/p/security-pitfalls-and-best-practices-101?s=r)
        - [Rekt.news](https://rekt.news/)
        - [Slowmist Hacked](https://hacked.slowmist.io/)
        - [Punk.Finance Code](https://github.com/PunkFinance/punk.protocol/blob/1654cc66d47ce234d339d4437cf1420a4bbbc4b8/contracts/models/CompoundEthModel.sol)
        - [Reaper Farm Exploit Analysis](https://twitter.com/PeckShieldAlert/status/1554423041232629761)
        - [Reaper Farm Contract](https://github.com/Byte-Masons/reaper-core/tree/master/contracts)
        - [EIP-4626](https://eips.ethereum.org/EIPS/eip-4626)
        - [Elephant.Money](https://elephant.money/)
        - [Elephant Finance Incident Analysis](https://twitter.com/BlockSecTeam/status/1513966074357698563)
        - [Fei Protocol Incident Analysis](https://certik.medium.com/fei-protocol-incident-analysis-8527440696cc)
        - [bZx 소개](https://medium.com/hashed-kr/investment-in-bzx-kr-3a739e157e29)
        - [EIP-777 Reentrancy](https://blog.openzeppelin.com/exploiting-uniswap-from-reentrancy-to-actual-profit/)
        
- **Session 03 : How to find real-world bugs?**
    - Session 03의 목표는 실제 Bug Bounty 상황을 가정하고 주어진 **임의의 프로젝트를 분석하여 취약점을 찾는 방법**을 익히는 것입니다.
    - **Solidity를 읽고 이해하는 것과, Javascript / Typescript 코드를 작성하시는 것에 어려움이 없으셔야** 세션을 원활히 이해하실 수 있습니다.
    - **Node.js를 실습환경에 사전에 세팅해오셔야 실습이 가능합니다.**
    - [실습/시연 코드 Github 저장소](https://github.com/astean1001/2022_seminar_tutorial)
    - **사전 참고 자료**
        - [code4rena](https://code4rena.com/)
        - [immunefi](https://immunefi.com/)
        - TBD
    
    -Session 03의 목표는 실제 Bug Bounty 상황을 가정하고 주어진 **임의의 프로젝트를 분석하여 취약점을 찾는 방법**을 익히는 것입니다.
    
    - **Solidity를 읽고 이해하는 것과, Javascript / Typescript 코드를 작성하시는 것에 어려움이 없으셔야** 세션을 원활히 이해하실 수 있습니다.
    - **Node.js를 실습환경에 사전에 세팅해오셔야 실습이 가능합니다.**
    - [실습/시연 코드 Github 저장소](https://github.com/astean1001/2022_seminar_tutorial)
    - **사전 참고 자료**
        - [code4rena](https://code4rena.com/)
        - [immunefi](https://immunefi.com/)

### 버그헌팅1

[SESSION01_Intro.pdf](SOOHO%20IO%20%E1%84%87%E1%85%A5%E1%84%80%E1%85%B3%E1%84%87%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%90%E1%85%B5%207be8161cb39f435a9833a82ecc9ee0a6/SESSION01_Intro.pdf)

[SESSION01_01_COMPILE.mp4](SOOHO%20IO%20%E1%84%87%E1%85%A5%E1%84%80%E1%85%B3%E1%84%87%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%90%E1%85%B5%207be8161cb39f435a9833a82ecc9ee0a6/SESSION01_01_COMPILE.mp4)

[SESSION01_02_TEST.mp4](SOOHO%20IO%20%E1%84%87%E1%85%A5%E1%84%80%E1%85%B3%E1%84%87%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%90%E1%85%B5%207be8161cb39f435a9833a82ecc9ee0a6/SESSION01_02_TEST.mp4)

### 버그헌팅2

[SESSION02_Vulns.pdf](SOOHO%20IO%20%E1%84%87%E1%85%A5%E1%84%80%E1%85%B3%E1%84%87%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%90%E1%85%B5%207be8161cb39f435a9833a82ecc9ee0a6/SESSION02_Vulns.pdf)

취약점 분류를 왜 못하고 반복해서 발생하는지..?

The DAO reentrancy attack

fallback..

reentracy modifier reentrancy flag

bytecode 암호화,,?체인..?

dex에서 거래가 크게 발생할 경우..검증하고 멈출 수 있는 기능 필요..?

elephant money flash loan attack 단순한 사례

여러 프로토콜 거치면서 복잡하게 공격하는 사례가 많음.. 사례 체크 필요

잘못된 구현이 실제로 더 많음

프로토콜 구조 분석..

하나씩 코너 케이스를 찾기..

한 모듈의 실패를 가정

볼트가 고갈해서 스트렛지가 이상하게 행동할 수 있는가

트레져리가 고장나서 과도한 b를 요구하는가 등..

공격패턴을 가정..모듈의 실패를 가정..

내부서비스가 실패했을때 .. 나ㅃㄴ 이자프로그램을 만들고 잘못된 인풋을 넣을 떄

어떻게 동작할지…?

보통 프로그램은 잘 동작할 것이라 가정하고 만들어 놓음..

보안감사를 받아도 해킹되는 경우가 있음. 책임 소재는 그렇게 있진 않음.

트랜잭션으로 메시지 담아서 해커에 연락을 취하며 나름의 책임을 다하긴 함..

현타와 슬픔이 있긴 함..

사고 분석 진행.

취약점 스터디 케이스 추천 받음…

굳이 취약점을 분석하기 보다는 개념을 잘 이해… 프로토콜이 매우 다양하고 다양한 전략을 써서 프로토콜이 왜 이렇게 설계된 건지 파악하는데 많이 시간이 듬

소니티 바이젠 프레임. 취약점 케이스

유니스왑, 컴파운드…

랭킹 높은 디파이 프로토콜을 참고… 이해하는데 좋음.

스시스왑, 컴파운드 1순위로 추천

ethernaut

[Ethernaut](https://ethernaut.openzeppelin.com/)

w3 취약점 분석 w2에 비해 단순

고여있음. 하는 사람이 함. 업체도 적음

오라클 플래시론 어택.. 멀티 오라클 활용…방어

가중치 설계…

비정상적인 공격 시도를 감지하는 방법은 있으려나..?

익스란?

버그바운티 해줘서 고마워,,,,ㅠㅠㅠㅠ

forta huristically detect adversary attack…

킬 스위치를 통해 프로토콜을 정지하는 방식으로 수행.

3

[SESSION03_Real.pdf](SOOHO%20IO%20%E1%84%87%E1%85%A5%E1%84%80%E1%85%B3%E1%84%87%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%90%E1%85%B5%207be8161cb39f435a9833a82ecc9ee0a6/SESSION03_Real.pdf)

Q1. 과거 발생한 보안 사고 검색 방법?? 구글이나 뉴스.. 리포트가 있음. 좋은 방법

리포트를 분석해보는 것도 좋을 듯..?

코드나 독스 비슷한거 많음

reentrancy는 이더를 보내는 call이 있는지 확인하는 것이 최우선

개발자가 테스트코드를 작성할 때 대개 낭만적인 상황을 가정하는 경우가 많음

dex로 바꿔서 해볼 수 있음 pair에서.. fork test 해볼 수 잇음